<div class="card leaderboard">
  <div class="toolbar" style="margin-bottom:1rem;">
    <select [(ngModel)]="selectedSort" style="width: 12rem; padding: 0.5rem; font-size: 1rem;">
      <option *ngFor="let opt of sortOptions" [value]="opt.value">
        {{ opt.label }}
      </option>
    </select>
  </div>

  <p-table
    #tbl
    [value]="helpers"
    [sortField]="selectedSort"
    [sortOrder]="-1"
    [paginator]="true"
    [rows]="10"
    [responsiveLayout]="'scroll'"
  >
    <ng-template pTemplate="header">
      <tr>
        <th style="width:60px">#</th>
        <th pSortableColumn="username">
          Username <p-sortIcon field="username"></p-sortIcon>
        </th>
        <th pSortableColumn="pointsEarned">
          Points Earned <p-sortIcon field="pointsEarned"></p-sortIcon>
        </th>
        <th pSortableColumn="helpsProvided">
          Helps Provided <p-sortIcon field="helpsProvided"></p-sortIcon>
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-hel let-i="rowIndex">
      <tr>
        <td>{{ tbl.first + i + 1 }}</td>
        <td>{{ hel.username }}</td>
        <td>{{ hel.pointsEarned }}</td>
        <td>{{ hel.helpsProvided }}</td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="4">No helpers found.</td>
      </tr>
    </ng-template>
  </p-table>
</div>
